# Примеры тестов с использованием Ruby

## Program888_BD-Удачно — копия
В этом примере показывается работа Ruby с базой данных SQLite, использующего Cucumber для тестирования. В нем определены два сценария для тестирования создания записи в таблице Users и просмотра пользователей из таблицы Users. В файле env.rb указано имя базы данных SQLite. В файле database_steps.rb определены шаги для создания пользователей и вывода пользователей таблицы.

**Алгоритм:**

1) В папке проекта выполнить команду:
```
bundle init
```
:white_check_mark: Результат: Создается файл Gemfile.
! Gemfile - это файл, который используется в проектах Ruby для управления зависимостями и установки необходимых гемов (библиотек) для работы приложения.
2) Выполнить команду:
```
bundle install
```
:white_check_mark: Результат:
Будут установлены все гемы, перечисленные в Gemfile, и их зависимости. Если указаны версии гемов, то будут установлены именно эти версии. Если версии не указаны, то будет установлена последняя стабильная версия гема. Кроме того, будет создан файл Gemfile.lock, который содержит точные версии всех установленных гемов и их зависимостей. Этот файл необходим для обеспечения совместимости версий гемов между разными средами разработки и на разных этапах разработки проекта.
3) Выполнить команду:
```
cucumber --init
```
:white_check_mark: Результат:
При выполнении команды cucumber --init будет создан файл features/support/env.rb, который содержит настройки окружения для запуска тестов с использованием Cucumber. В этом файле будут подключены необходимые библиотеки и определены настройки для запуска тестов, такие как путь к файлам с описанием шагов и путь к директории с тестами. Также будут созданы директории features/step_definitions и features/support, которые содержат файлы с описанием шагов и настроек окружения соответственно.
!Эту команду нужно выполнить, когда только создается проект. У нас в проекте уже создан каркас и файлы наполнены кодом,поэтому эту команду не нужно выполнять, НО нужно выполнить команду:
```
bundle install
```
:white_check_mark: Результат:
В проект, в папку vendor, установятся гемы,описанные в Gemfile, которые нужны для проекта.
4) После описания сценариев в файле db.feature и шагов в файле db_steps.rb, можно запустить тесты командой:
```
cucumber
```
____
## Program100000-5_APITest-HttParty
В этом примере тесты на Ruby, с использованием Cucumber+HttParty проверяют, что при использовании правильного API ключа, запрос к эндпоинту "/EPIC/api/natural/images" возвращает статус 200 и тело ответа содержит поля "date" и "image".

***Пояснение:***
Httparty - это более простая и легковесная библиотека, которая предоставляет удобный интерфейс для отправки запросов и получения ответов. Она поддерживает большинство HTTP-методов (GET, POST, PUT, DELETE) и может работать с JSON и XML форматами данных. Httparty также предоставляет удобные методы для работы с заголовками и параметрами запроса.
____
## Program100000-44_APITest-Удачно-Два теста-Без RSpec, Только Gemfile,Cucumber
В этом примере, тесты на Ruby, с использованием Cucumber+RestClient проверяют, что при использовании правильного API ключа, запрос к эндпоинту "/EPIC/api/natural/images" возвращает статус 200 и тело ответа содержит поле "lunar_j2000_position"

***Пояснение:***
RestClient - это более мощная библиотека, которая предоставляет больше возможностей для настройки запросов и обработки ответов. Она также поддерживает большинство HTTP-методов и может работать с различными форматами данных. RestClient позволяет настраивать заголовки, параметры запроса, тело запроса и другие параметры. Она также поддерживает авторизацию и работу с прокси-серверами.
Файл config.yml содержит URL и apikey для удобства разработки и сопровождения кода тестов.
____
# ExamplesOnRuby3
